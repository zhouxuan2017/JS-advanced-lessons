<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
     var o1={x:1};
    var o2=Object.create(o1);

    console.log(o2.__proto__ == o1);//true
    //往o2自身上面添加属性x
    o2.x=2;
    console.log(o2.x);//2
     console.log(o2.__proto__ == o1);//true
    //delete只能删除自身所具有的属性
    delete o2.x;
    console.log(o2.x);//1

     o2.__proto__.x=3;
     
     console.log(o1.x);//3
     console.log(o2.x);//3






      //JS对象的属性访问链（自有属性和继承属性）
      var proObj={
          z:3
      };
      var obj=Object.create(proObj);
      obj.x=1;
      obj.y=2;
      console.log(obj.x);//1
      console.log(obj.y);//2
      console.log(obj.z);//3
      console.log('z' in obj);//true
      console.log(obj.hasOwnProperty('z'));//false
      obj.z=5;
      console.log(obj.hasOwnProperty("z"));//true
      console.log(obj.z);//5
      console.log(proObj.z);//3
      console.log(obj.z=8);//8
      console.log(obj.z);//8
      delete obj.z;
      console.log(obj.z);//3
     
     
    
     



      var obj={x:1};
      //对象的原型链尽头，Object.prototype.__proto__
      console.log(obj.__proto__==Object.prototype);//true
      console.log(obj.__proto__);//{constructor: ƒ, __defineGetter__: ƒ, __defineSetter__: ƒ, hasOwnProperty: ƒ, __lookupGetter__: ƒ, …}
      console.log(obj.__proto__.__proto__);//null



      var obj1={x:1};
      var obj2=Object.create(obj1);
      console.log(obj2.__proto__);//{x: 1}
      console.log(obj2.__proto__.__proto__);//{constructor: ƒ, __defineGetter__: ƒ, __defineSetter__: ƒ, hasOwnProperty: ƒ, __lookupGetter__: ƒ, …}
      console.log(obj2.__proto__.__proto__.__proto__);//null
      console.log(Object.prototype);//{constructor: ƒ, __defineGetter__: ƒ, __defineSetter__: ƒ, hasOwnProperty: ƒ, __lookupGetter__: ƒ, …}

     
      var num=10;
      num.toString();
      console.log(num.__proto__);




      var obj1={z:1};
      var obj2=Object.create(obj1);
      console.log(obj2.__proto__==obj1);//true
      obj2.z=3;
      console.log(obj2.z);//3
      //delece仅可以删除对象自身上面的属性
      delete obj2.z;
      console.log(obj2.z);//1


   var obj1={z:1};
   var obj2=Object.create(obj1);
   Object.prototype.sayHello=function(){
       console.log("hello world");
   }

obj2.sayHello();//hello world





function Person(username,age)
{
    this.username=username;
    this.age=age;
    this.sayHello=function(){
        console.log("hello world");
    }
}
var person1=new Person("zhansan",20);
var persin2=new Person("lisi",25);
console.log(person1,persin2);//Person {username: "zhansan", age: 20, sayHello: ƒ} Person {username: "lisi", age: 25, sayHello: ƒ}
console.log(person1.__proto__=Person.prototype)//{constructor: ƒ}
person1.sayHello();//hello world
persin2.sayHello();//hello world




function Person(username,age)
{
    this.username=username;
    this.age=age;
}
Person.prototype.sayHello=function(){
    console.log("hello world");
}
var person=new Person("zhangsan",20);
console.log(person.__proto__==Person.prototype);//true
console.log(person.__proto__.__proto__==Object.prototype);//true
console.log(person.__proto__.__proto__.__proto__==Object.prototype)//false
console.log(Person.prototype.constructor==Person);//true
console.log(Object.prototype.constructor==Object);//true




//定义一个car对象，拥有属性height、width、weight
//在定义一个smallCar对象，自身具有color、seatNum属性
//让smallCar继承car的所有属性，使用create方法和构造函数实现



var car={
    height:150,
    width:200,
    weight:2000
};

function CreateSmallCar(color,seatNum)
{
    this.color=color;
    this.seatNum=seatNum;
}
CreateSmallCar.prototype=car;
var smallCar=new CreateSmallCar("red",4);
console.log(smallCar.__proto__==CreateSmallCar.prototype);//true
console.log(smallCar.weight,smallCar.height);//2000 150
console.log(smallCar.color,smallCar.seatNum);//red 4



//闭包
//可以访问函数内部的局部变量
//可以让变量保持在内存中
function fn1()
{
    var x=1;
    function fn2(){
        return ++x;
    }
    return fn2;
}
var result=fn1();
result();
console.log(result());//3



var obj={x:1};
for(var i in obj)
{
    console.log(obj[i]);
}
Object.defineProperty(obj,"y",{value:2,writable:true,enumerable:true,configurable:true})
</script>
</html>